<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script>
if (window.innerWidth <= 480) {
  let meta = document.createElement('meta');
  meta.name = "viewport";
  meta.content = "width=device-width, initial-scale=0.75";
  document.head.appendChild(meta);
}
</script>
  <title>Magic button ‚Äî –°–¥–µ–ª–∞—Ç—å –≤—Å—ë —Ö–æ—Ä–æ—à–æ</title>
  <meta name="description" content="–í–æ–ª—à–µ–±–Ω–∞—è –∫–Ω–æ–ø–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –≤—Å—ë —Ö–æ—Ä–æ—à–æ">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link href="css/_reset.css" rel="stylesheet" type="text/css">
  <link href="css/style.css" rel="stylesheet" type="text/css">

</head>
<body>
  <div id="main">
    <div id="button"></div>
    <div id="progress">
  <div id="bar">
    <div id="line"></div>
  </div>
</div>

    <div id="answer">
      <div>
        <h3>–í—Å—ë —Å–¥–µ–ª–∞–Ω–æ —Ö–æ—Ä–æ—à–æ</h3>
        <p>–ï—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ –Ω–µ —Å—Ç–∞–ª–æ,<br>
          –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏.</p>
        <p class="ok"><span>ok</span></p>
      </div>
    </div>
    <div id="infoPanel">
      <p>–ö–Ω–æ–ø–∫–∞ ¬´–°–¥–µ–ª–∞—Ç—å –≤—Å—ë —Ö–æ—Ä–æ—à–æ¬ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è –∂–∏–∑–Ω–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.</p>
    </div>
  </div>

  <script type="text/javascript">
    // JavaScript Document
$(document).ready(function () {
  
  $("div#main img.background").width($(window).width());
  $("div#main img.background").height($(window).height());
  $("div#button").css("backgroundPosition","left top");
  $("div#progress").hide();
  $("div#answer").hide();
  $('div#show').height($(window).height());
  $("div#show").hide();
  $("div#infoPanel").animate({opacity:0},0);
  
  $("div#button").click(function () {
    $("div#answer").hide(); 
    $(this).animate({opacity:1},0,function(){$(this).css({backgroundPosition: 'left 50%'})}).delay(500).
    animate({opacity:1},0,function(){$(this).css({backgroundPosition: 'left top'})}).delay(500).
    animate({opacity:1},0,function(){$(this).css({backgroundPosition: 'left bottom'})},0,showprogress());}
  );
    
  $("div#answer").click(function(){
      $('div#answer').fadeOut(300);
      $('div#answer').hide();
      
    
    $("img.background").attr("src","images/background.jpg");
    $("div#button").css({backgroundPosition: 'left top'});
    
       });
      
      
      $("div#main div#info").hover(function(){$("div#infoPanel").animate({opacity:1},100);},function(){$("div#infoPanel").animate({opacity:0},100);});
      
      
      $("div#shareBlock a img").animate({opacity:0},0);
        });
      
      
     function showprogress() {
  const $progress = $("#progress");
  const $line = $("#line");

  $line.width(0).text(""); // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º
  $progress.show();

  let width = 0;
  const interval = setInterval(() => {
    width += 1;
    if (width > 100) width = 100;
    $line.width(width + "%");
    $line.text("–í—Å—ë –¥–µ–ª–∞–µ—Ç—Å—è —Ö–æ—Ä–æ—à–æ! üíö " + width + "%");

    if (width === 100) {
      clearInterval(interval);
      setTimeout(() => {
        $progress.fadeOut(300);
        $("#answer").fadeIn(300);
        $line.width(0).text("");
      }, 500);
    }
  }, 50); // 5 —Å–µ–∫—É–Ω–¥ –¥–æ 100%
}

      
      
$(window).resize(function(){$("div#main img.background").width($(window).width()); $("div#main img.background").height($(window).height()); $('div#show').height($(window).height());});
  </script>


 


</body>
</html>
